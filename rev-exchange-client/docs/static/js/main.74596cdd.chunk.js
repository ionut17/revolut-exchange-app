(this["webpackJsonprev-exchange-client"]=this["webpackJsonprev-exchange-client"]||[]).push([[0],{24:function(n,e,t){},30:function(n,e,t){"use strict";t.r(e);var o,i,c,r,l,a,u,d,v,s,b,j,f,h,g,m,x,p=t(0),O=t.n(p),y=t(14),w=t.n(y),E=(t(24),t(19)),M=t(5),A=t(8),C=t(2),T=t(3),S=t(4),k=t.n(S),D={method:"GET",headers:{Accept:"application/json","Content-Type":"application/json;charset=UTF-8"}},I=function(n){var e;if(n&&null!==n.value()){var t=null===(e=n.value())||void 0===e?void 0:e.toString();return t&&t.length>13&&(n=k()(t.substr(0,13))),k()(n.format("0,0[.]00"))}},z=T.b.section(o||(o=Object(C.a)(["\n    --themeAccent: ",";\n    --themeGrey: ",";\n    --themeGreyHover: ",";\n    --themeDarkGrey: ",";\n    --themeBlack: ",";\n    --contentPadding: ",";\n"])),"rgb(6, 102, 235)","rgb(246, 247, 248)","rgb(236, 236, 236)","rgb(82, 92, 102)","rgb(0, 0, 0)","40px"),G=T.b.div(i||(i=Object(C.a)(["\n    font-weight: 700;\n    text-transform: uppercase;\n    color: var(--themeBlack);\n"]))),L=Object(T.b)(G)(c||(c=Object(C.a)(["font-size: 18px;"]))),N=T.b.p(r||(r=Object(C.a)(["\n    font-weight: 400;\n    margin: 5px 0 0 0;\n    color: var(--themeDarkGrey);\n"]))),R=T.b.button(l||(l=Object(C.a)(["\n    padding: 10px 20px;\n    border-radius: 20px;\n    border: none;\n    background-color: var(--themeAccent);\n    font-weight: 600;\n    font-size: 14px;\n    color: white;\n    cursor: pointer;\n    max-width: 300px;\n"]))),P=T.b.div(a||(a=Object(C.a)(["\n  display: flex;\n  flex-direction: column;\n  position: relative;\n"]))),U=T.b.div(u||(u=Object(C.a)(["\n    position: absolute;\n\n    width: 100%;\n    margin-left: 5px;\n    top: 100%;\n\n    font-size: 12px;\n    color: red;\n    white-space: pre;\n    overflow: hidden;\n    text-overflow: ellipsis;\n"]))),B=T.b.div(d||(d=Object(C.a)(["\n    color: var(--themeDarkGrey);\n    font-size: 12px;\n    position: absolute;\n    top: 100%;\n    margin-left: 5px;\n"]))),J=T.b.div(v||(v=Object(C.a)(["\n  width: 24px;\n  height: 24px;\n\n  transform: rotate(90deg) translateX(-7px);\n  background-image: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiPjxwYXRoIGQ9Ik0xMiAwYzYuNjIzIDAgMTIgNS4zNzcgMTIgMTJzLTUuMzc3IDEyLTEyIDEyLTEyLTUuMzc3LTEyLTEyIDUuMzc3LTEyIDEyLTEyem0wIDJjNS41MTkgMCAxMCA0LjQ4MSAxMCAxMHMtNC40ODEgMTAtMTAgMTAtMTAtNC40ODEtMTAtMTAgNC40ODEtMTAgMTAtMTB6bTIgMTJ2LTNsNSA0LTUgNHYtM2gtOXYtMmg5em0tNC02di0zbC01IDQgNSA0di0zaDl2LTJoLTl6Ii8+PC9zdmc+');\n  background-size: contain;\n  background-repeat: no-repeat;\n  opacity: 0.5;\n  cursor: pointer;\n\n  &:hover {\n    opacity: 1;\n  }\n"]))),H=Object(T.a)(s||(s=Object(C.a)(["\n    padding: 10px 10px 8px 10px;\n    width: 100%;\n\n    border-radius: 10px;\n    border: none;\n    background-color: var(--themeGrey);\n    font-size: 14px;\n    font-weight: 600;\n\n    transition: background 0.2s ease-in-out;\n    &:focus, &:hover {\n        background-color: var(--themeGreyHover);\n    }\n"]))),F=T.b.input(b||(b=Object(C.a)(["\n    ",";\n    width: 100%;\n"])),H),Q=T.b.select(j||(j=Object(C.a)(["\n    ",";\n    cursor: pointer;\n"])),H),Z=t(1),V=Object(T.b)(P)(f||(f=Object(C.a)(["\n  align-items: center;\n"]))),W=Object(T.b)(Q)(h||(h=Object(C.a)(["\n"]))),Y=Object(T.b)(B)(g||(g=Object(C.a)(["\n  cursor: pointer;\n  &:hover {\n    text-decoration: underline;\n  }\n"]))),X=function(n){var e,t,o,i,c,r,l;return Object(Z.jsxs)(V,{children:[Object(Z.jsx)(W,{value:null===n||void 0===n||null===(e=n.account)||void 0===e||null===(t=e.currency)||void 0===t?void 0:t.code,onChange:function(e){var t,o=null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.value;if(o){var i=n.list.find((function(n){var e;return(null===n||void 0===n||null===(e=n.currency)||void 0===e?void 0:e.code)===o}));i&&n.accountSelected(i)}},children:null===n||void 0===n||null===(o=n.list)||void 0===o?void 0:o.map((function(n){var e,t,o,i;return Object(Z.jsxs)("option",{value:null===n||void 0===n||null===(t=n.currency)||void 0===t?void 0:t.code,children:[null===n||void 0===n||null===(o=n.currency)||void 0===o?void 0:o.code," - ",null===n||void 0===n||null===(i=n.currency)||void 0===i?void 0:i.name]},null===n||void 0===n||null===(e=n.currency)||void 0===e?void 0:e.code)}))}),Object(Z.jsxs)(Y,{"aria-label":"balance-info",onClick:function(){var e,t;return!!(null===n||void 0===n||null===(e=n.account)||void 0===e?void 0:e.amount)&&n.maxAmountSelected(null===n||void 0===n||null===(t=n.account)||void 0===t?void 0:t.amount)},children:["Balance: ",null===n||void 0===n||null===(i=n.account)||void 0===i||null===(c=i.amount)||void 0===c?void 0:c.value()," ",null===n||void 0===n||null===(r=n.account)||void 0===r||null===(l=r.currency)||void 0===l?void 0:l.code]})]})},_=Object(T.b)(F)(m||(m=Object(C.a)([""]))),q=function(n){var e,t,o,i,c,r=(null===n||void 0===n||null===(e=n.amount)||void 0===e?void 0:e.value())>(null!==(t=null===n||void 0===n?void 0:n.max)&&void 0!==t?t:1/0);return Object(Z.jsxs)(P,{children:[Object(Z.jsx)(_,{"aria-label":"currency-input",type:"number",min:"0",max:null!==(o=null===n||void 0===n?void 0:n.max)&&void 0!==o?o:"",value:null!==(i=null===n||void 0===n||null===(c=n.amount)||void 0===c?void 0:c.value())&&void 0!==i?i:"",onChange:function(e){var t;return null===n||void 0===n?void 0:n.amountChange(k()(null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.value))}}),!!r&&Object(Z.jsx)(U,{children:null===n||void 0===n?void 0:n.maxError})]})},K=t(6),$=t(18),nn=function(){function n(e,t,o,i){Object(K.a)(this,n),this.from=e,this.fromAmount=t,this.to=o,this.toAmount=i}return Object($.a)(n,[{key:"isValid",value:function(){var n,e,t,o=null===(n=this.fromAmount)||void 0===n?void 0:n.value(),i=null===(e=this.from)||void 0===e||null===(t=e.amount)||void 0===t?void 0:t.value();return!!(this.from&&o&&this.fromAmount&&i&&this.to&&this.toAmount&&o<=i)}}]),n}();var en,tn,on,cn,rn,ln,an,un,dn=T.b.span(x||(x=Object(C.a)(["\n  grid-column: 1 / 4;\n  justify-self: center;\n\n  font-size: 14px;\n  color: var(--themeAccent);\n"]))),vn=function(n){var e,t,o;return Object(Z.jsxs)(dn,{children:[Object(Z.jsx)("strong",{children:"1"})," ",null===n||void 0===n||null===(e=n.fromCurrency)||void 0===e?void 0:e.code," = ",Object(Z.jsx)("strong",{children:null===(t=I(null===n||void 0===n?void 0:n.rate))||void 0===t?void 0:t.value()})," ",null===n||void 0===n||null===(o=n.toCurrency)||void 0===o?void 0:o.code]})},sn=T.b.form(en||(en=Object(C.a)(["\n  display: grid;\n  grid-template-columns: 30px auto 1fr;\n  grid-row-gap: 30px;\n  justify-content: center;\n  padding: var(--contentPadding);\n"]))),bn=T.b.div(tn||(tn=Object(C.a)(["\n  display: grid;\n  grid-template-columns: auto 1fr;\n  column-gap: 10px;\n  align-items: center;\n\n  grid-column: 2 / span 2;\n"]))),jn=Object(T.b)(R)(on||(on=Object(C.a)([" grid-column: 1 / 4; justify-self: center;"]))),fn=Object(T.b)(J)(cn||(cn=Object(C.a)([" grid-column: 1 / 2; grid-row: span 2; justify-self: flex-start; align-self: center;"]))),hn=function(n){var e,t,o,i,c,r=Object(p.useContext)(wn),l=Object(p.useState)(r.accounts[0]),a=Object(M.a)(l,2),u=a[0],d=a[1],v=Object(p.useState)(),s=Object(M.a)(v,2),b=s[0],j=s[1],f=Object(p.useState)(r.accounts[1]),h=Object(M.a)(f,2),g=h[0],m=h[1],x=Object(p.useState)(),O=Object(M.a)(x,2),y=O[0],w=O[1],E=function(n,e,t){var o=Object(p.useState)(k()(0)),i=Object(M.a)(o,2),c=i[0],r=i[1],l=Object(p.useState)(k()(0)),a=Object(M.a)(l,2),u=a[0],d=a[1];return Object(p.useEffect)((function(){var o=null===n||void 0===n?void 0:n.get("".concat(e).concat(t));o&&r(o);var i=null===n||void 0===n?void 0:n.get("".concat(t).concat(e));i&&d(i)}),[n,e,t]),{directRate:c,inverseRate:u}}(null===r||void 0===r?void 0:r.rates,null===u||void 0===u||null===(e=u.currency)||void 0===e?void 0:e.code,null===g||void 0===g||null===(t=g.currency)||void 0===t?void 0:t.code),A=E.directRate,C=E.inverseRate;Object(p.useEffect)((function(){b&&A&&S(b)}),[A]);var T=function(n){var e,t;d(n),(null===n||void 0===n||null===(e=n.currency)||void 0===e?void 0:e.code)===(null===g||void 0===g||null===(t=g.currency)||void 0===t?void 0:t.code)&&m(u)},S=function(n){var e;j(I(n)),w(I(k()(null!==(e=n.value())&&void 0!==e?e:0).multiply(A.value())))},D=function(n){var e;w(I(n)),j(I(k()(null!==(e=n.value())&&void 0!==e?e:0).multiply(C.value())))};return Object(Z.jsxs)(sn,{noValidate:!0,onSubmit:function(n){n.preventDefault();var e=new nn(u,b,g,y);e.isValid()&&(r.exchange(e),j(void 0),w(void 0))},children:[Object(Z.jsx)(vn,{fromCurrency:null===u||void 0===u?void 0:u.currency,toCurrency:null===g||void 0===g?void 0:g.currency,rate:A}),Object(Z.jsx)(fn,{"aria-label":"exchange-switch",onClick:function(){return T(g)}}),Object(Z.jsxs)(bn,{"aria-label":"from-input",children:[Object(Z.jsx)(X,{list:null===r||void 0===r?void 0:r.accounts,account:u,accountSelected:T,maxAmountSelected:function(n){return S(n)}}),Object(Z.jsx)(q,{max:null===u||void 0===u||null===(o=u.amount)||void 0===o?void 0:o.value(),maxError:"Exchange amount exceeds balance value",amount:b,amountChange:function(n){return S(n)}})]}),Object(Z.jsxs)(bn,{"aria-label":"to-input",children:[Object(Z.jsx)(X,{list:null===r||void 0===r?void 0:r.accounts,account:g,accountSelected:function(n){var e,t;m(n),(null===n||void 0===n||null===(e=n.currency)||void 0===e?void 0:e.code)===(null===u||void 0===u||null===(t=u.currency)||void 0===t?void 0:t.code)&&d(g)},maxAmountSelected:function(n){return D(n)}}),Object(Z.jsx)(q,{amount:y,amountChange:function(n){return D(n)}})]}),Object(Z.jsxs)(jn,{"aria-label":"exchange-button",children:["Exchange ",null===u||void 0===u||null===(i=u.currency)||void 0===i?void 0:i.code," to ",null===g||void 0===g||null===(c=g.currency)||void 0===c?void 0:c.code]})]})},gn=T.b.header(rn||(rn=Object(C.a)(["\n  padding: var(--contentPadding);\n  border-bottom: 1px solid rgba(0,0,0,0.1);\n\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  text-align: center;\n\n  overflow: auto;\n"]))),mn=T.b.section(ln||(ln=Object(C.a)(["\n  display: flex;\n  justify-content: space-around;\n  flex-wrap: wrap;\n  \n  width: 100%;\n  row-gap: 20px;\n  margin-top: 30px;\n  \n  text-align: center;\n"]))),xn=T.b.div(an||(an=Object(C.a)(["\n  width: 100px;\n  height: 100px;\n\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  background: var(--themeGrey);\n  border-radius: 50%;\n  border: 1px solid rgba(0,0,0,0.05);\n  \n  strong {\n    font-size: 20px;\n    color: var(--themeAccent)\n  }\n"]))),pn=function(n){return Object(Z.jsxs)(gn,{children:[Object(Z.jsx)(L,{children:"Currency Exchange"}),Object(Z.jsx)(N,{children:"Convert between your account currencies."}),Object(Z.jsx)(mn,{children:null===n||void 0===n?void 0:n.accounts.map((function(n){var e,t,o;return Object(Z.jsxs)(xn,{children:[Object(Z.jsx)("strong",{children:null===(t=n.amount)||void 0===t?void 0:t.value()}),null===(o=n.currency)||void 0===o?void 0:o.code]},null===(e=n.currency)||void 0===e?void 0:e.code)}))})]})};var On,yn=Object(T.b)(z)(un||(un=Object(C.a)(["\n    display: grid;\n    grid-template-columns: 1fr;\n    grid-row-gap: 10px;\n\n    width: 100%;\n    max-width: 600px;\n    background-color: white;\n    border-radius: 10px;\n    border: 1px solid rgba(0,0,0,0.1);\n"]))),wn=O.a.createContext({accounts:[],rates:new Map,exchange:function(){}}),En=function(n){var e=function(n){var e=Object(p.useState)(new Map),t=Object(M.a)(e,2),o=t[0],i=t[1];return Object(p.useEffect)((function(){if((null===n||void 0===n?void 0:n.length)>0){var e=function(){fetch("https://openexchangerates.org/api/latest.json?app_id=d1bb6494da774c91baba1bddae020aad",D).then((function(n){return null===n||void 0===n?void 0:n.json()})).then((function(e){var t=e.rates,o=new Map;n.forEach((function(n){var e,i=null===n||void 0===n||null===(e=n.currency)||void 0===e?void 0:e.code;(null===t||void 0===t?void 0:t[i])&&o.set(i,"".concat(t[i]))}));var c=new Map;o.forEach((function(n,e){o.forEach((function(t,o){if(e!==o){var i="".concat(e).concat(o),r=k()(t).divide(k()(n).value());c.set(i,r)}}))})),i(c)})).catch((function(n){return console.log(n)}))};e();var t=setInterval((function(){return e()}),1e4);return function(){return clearInterval(t)}}}),[n]),o}(null===n||void 0===n?void 0:n.accounts);return Object(Z.jsx)(wn.Provider,{value:{accounts:n.accounts,rates:e,exchange:function(e){return null===n||void 0===n?void 0:n.exchange(e)}},children:Object(Z.jsxs)(yn,{children:[Object(Z.jsx)(pn,{accounts:n.accounts}),Object(Z.jsx)(hn,{})]})})},Mn=function n(e,t){Object(K.a)(this,n),this.amount=void 0,this.currency=void 0,this.currency=e,this.amount=t?k()(t):k()(0)};!function(n){n.EUR="EUR",n.USD="USD",n.RON="RON",n.GBP="GBP"}(On||(On={}));var An,Cn,Tn=function n(e,t){Object(K.a)(this,n),this.name=void 0,this.code=void 0,this.code=e,this.name=t},Sn=T.b.main(An||(An=Object(C.a)(["\n  width: 100vw;\n  min-height: 100vh;\n  overflow: auto;\n  \n  display: flex;\n  justify-content: center;\n  align-items: center;\n  overflow: auto;\n\n  background-color: rgb(246, 247, 248);\n  background-color: #2d3436;\n  background: #000428;  /* fallback for old browsers */\n  background: -webkit-linear-gradient(to right, #004e92, #000428);  /* Chrome 10-25, Safari 5.1-6 */\n  background: linear-gradient(to right, #004e92, #000428); /* W3C, IE 10+/ Edge, Firefox 16+, Chrome 26+, Opera 12+, Safari 7+ */\n\n"]))),kn=(Cn={},Object(A.a)(Cn,On.EUR,new Tn(On.EUR,"Euro")),Object(A.a)(Cn,On.USD,new Tn(On.USD,"Dollar")),Object(A.a)(Cn,On.GBP,new Tn(On.GBP,"Pound")),Object(A.a)(Cn,On.RON,new Tn(On.RON,"Leu")),Cn),Dn=[new Mn(kn.EUR,"1000"),new Mn(kn.USD,"500"),new Mn(kn.GBP,"500"),new Mn(kn.RON,"250")];var In=function(n){var e,t=Object(p.useState)(null!==(e=n.accounts)&&void 0!==e?e:Dn),o=Object(M.a)(t,2),i=o[0],c=o[1];return Object(Z.jsx)(Sn,{children:Object(Z.jsx)(En,{accounts:i,exchange:function(n){return c(zn(i,n))}})})},zn=function(n,e){return n.forEach((function(n){var t,o,i,c,r,l,a,u;if((null===n||void 0===n||null===(t=n.currency)||void 0===t?void 0:t.code)===(null===e||void 0===e||null===(o=e.from)||void 0===o||null===(i=o.currency)||void 0===i?void 0:i.code))null===n||void 0===n||null===(a=n.amount)||void 0===a||a.subtract(null===e||void 0===e||null===(u=e.fromAmount)||void 0===u?void 0:u.value());else if((null===n||void 0===n||null===(c=n.currency)||void 0===c?void 0:c.code)===(null===e||void 0===e||null===(r=e.to)||void 0===r||null===(l=r.currency)||void 0===l?void 0:l.code)){var d,v;null===n||void 0===n||null===(d=n.amount)||void 0===d||d.add(null===e||void 0===e||null===(v=e.toAmount)||void 0===v?void 0:v.value())}})),Object(E.a)(n)},Gn=function(n){n&&n instanceof Function&&t.e(3).then(t.bind(null,31)).then((function(e){var t=e.getCLS,o=e.getFID,i=e.getFCP,c=e.getLCP,r=e.getTTFB;t(n),o(n),i(n),c(n),r(n)}))};w.a.render(Object(Z.jsx)(In,{}),document.getElementById("root")),Gn()}},[[30,1,2]]]);
//# sourceMappingURL=main.74596cdd.chunk.js.map